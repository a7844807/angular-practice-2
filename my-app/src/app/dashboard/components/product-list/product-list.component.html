<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
<!-- <div class="container-md">
  <div class="row">
    <div class="col">1</div>
    <div class="col">2</div>
    <div class="col">3</div>
  </div>
</div> -->
<div class="container">
  <div class="row">
<mat-sidenav-container class="food-container">
  <mat-sidenav mode="side" class="food-sidenav" opened>
    <div class="row-sm">
    <mat-button-toggle-group class="col-sm" #group="matButtonToggleGroup" id="mtbt">
      <mat-button-toggle (click)="setToggleValue('v')" mat-raised-button id="辣" value="v">辣</mat-button-toggle>
      <mat-button-toggle (click)="setToggleValue('n')" mat-raised-button id="不辣" value="n">不辣</mat-button-toggle>
    </mat-button-toggle-group>
  </div>
    <br/><br/>
    <label for="price-range" >价格范围</label><br/>
    <mat-slider id="price-range" min="10" max="60" [(ngModel)]="price" thumbLabel></mat-slider>
    <br/>
    <form>
      <mat-form-field>
        <mat-select (selectionChange)="search()" [(ngModel)]="selectedMaterial" placeholder="肉类" name="material" multiple>
          <mat-option *ngFor="let material of materials" [value]="material.value">
            {{material.viewValue}}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <br/>
      <mat-form-field>
        <mat-select (selectionChange)="search()" placeholder="菜类" [(ngModel)]="selectedType" name="type" multiple>
          <mat-option *ngFor="let type of types" [value]="type.value">
            {{type.viewValue}}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </form>
  </mat-sidenav>
  
  <mat-sidenav-content>
    <mat-card *ngFor="let food of foods$ | async" class="food-card">
      <div class="row">
      <mat-card-header class="food-card-header">
        <mat-card-title><h3>{{ food.name }} </h3></mat-card-title>
      </mat-card-header>
      </div>
      <div class="row">
      <mat-card-content>
        <img width="150" src="{{food.image}}" alt="Photo of food">
        <ul class="food-list">
          <li>{{food.material}}</li>
          <li>{{food.type}}</li>
          <li>{{food.food}}</li>
        </ul>
      </mat-card-content>
    </div>
    <div class="row">
      <div class="col-sm">
      <div class="food-card-bottom">价格： {{food.price}} /-</div>
    </div>
    <div class="col-sm">
      <mat-card-actions class="food-card-bottom">
        <button routerLink="/detail/{{food.id}}" mat-raised-button>选择</button>
      </mat-card-actions>
    </div>
    </div>
    </mat-card>
  </mat-sidenav-content>


</mat-sidenav-container>
</div>
</div>

<!-- <mat-sidenav #sidenav mode="side" opened="true">
  <mat-nav-list>
      <mat-list-item>
          <mat-icon mat-list-icon class="chevron-button" (click)="isExpanded=!isExpanded" [ngClass]="{'rotated': isExpanded}">search</mat-icon>
      </mat-list-item>
  </mat-nav-list>
</mat-sidenav> -->